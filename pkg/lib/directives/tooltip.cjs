"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("vue"),C=require("../components/tooltip/index.cjs"),m=require("../node_modules/lodash-es/isObject.cjs"),s=new WeakMap;let r=null;const d="_tooltip_root";let n=null;const f=t=>{const o=document.querySelector("#_tooltip_root");o&&o.remove(),t._tipRoot=null,t._tipApp=null;const e=document.createElement("div");e.id=d,e.classList.add("_tipRoot");const i=s.get(t),{trigger:c,placement:_,content:g,showAfter:v,autoClose:T,visible:u,showByOverflow:b}=m.default(i)?i:{},A=["string","number"].includes(typeof i)?i:g??t.textContent??"";let l=!0;u===!1?l=!1:c==="click"?l=void 0:typeof u=="function"?l=u(t):b&&(l=t.scrollWidth>t.clientWidth);const a=h.createApp(C.KTooltip,{virtualRef:t,rawContent:!0,virtualTriggering:!0,trigger:c,placement:_,content:A,showAfter:v,autoClose:T,visible:l});t._tipRoot=e,t._tipApp=a,document.body.appendChild(e),!(!a||!e)&&(r&&p(),t._tipApp.mount(`#${d}`),r=t._tipApp)},p=()=>{n&&(clearTimeout(n),n=null),r&&(r.unmount(),r=null)},O=t=>{const o=s.get(t),{showAfter:e,trigger:i}=m.default(o)?o:{};if(i==="click"){f(t);return}t.addEventListener("mouseenter",()=>{n&&clearTimeout(n),n=setTimeout(()=>{f(t)},e??500)}),t.addEventListener("mouseleave",p)},w={mounted(t,o){s.set(t,o.value),O(t)},updated(t,o){s.set(t,o.value)},unmounted(t){s.delete(t),p()}};exports.tooltip=w;
