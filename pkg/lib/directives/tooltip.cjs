"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});require("../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const h=require("../components/tooltip/index.cjs"),m=require("../node_modules/lodash-es/isObject.cjs"),C=require("../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.cjs"),r=new WeakMap;let s=null;const a="_tooltip_root";let n=null;const f=t=>{const e=document.querySelector("#_tooltip_root");e&&e.remove(),t._tipRoot=null,t._tipApp=null;const o=document.createElement("div");o.id=a,o.classList.add("_tipRoot");const i=r.get(t),{trigger:c,placement:_,content:g,showAfter:T,autoClose:v,visible:u,showByOverflow:b}=m.default(i)?i:{},A=["string","number"].includes(typeof i)?i:g??t.textContent??"";let l=!0;u===!1?l=!1:c==="click"?l=void 0:typeof u=="function"?l=u(t):b&&(l=t.scrollWidth>t.clientWidth);const d=C.createApp(h.KTooltip,{virtualRef:t,rawContent:!0,virtualTriggering:!0,trigger:c,placement:_,content:A,showAfter:T,autoClose:v,visible:l});t._tipRoot=o,t._tipApp=d,document.body.appendChild(o),!(!d||!o)&&(s&&p(),t._tipApp.mount(`#${a}`),s=t._tipApp)},p=()=>{n&&(clearTimeout(n),n=null),s&&(s.unmount(),s=null)},O=t=>{const e=r.get(t),{showAfter:o,trigger:i}=m.default(e)?e:{};if(i==="click"){f(t);return}t.addEventListener("mouseenter",()=>{n&&clearTimeout(n),n=setTimeout(()=>{f(t)},o??500)}),t.addEventListener("mouseleave",p)},w={mounted(t,e){r.set(t,e.value),O(t)},updated(t,e){r.set(t,e.value)},unmounted(t){r.delete(t),p()}};exports.tooltip=w;
