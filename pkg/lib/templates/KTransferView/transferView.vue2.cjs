"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),q=require("../../components/button/index.cjs");require("../../components/input/index.cjs");require("../../components/input_number/index.cjs");const v=require("../../components/radio/index.cjs");require("../../components/checkbox/index.cjs");require("../../components/switch/index.cjs");require("../../components/tab/index.cjs");require("../../components/pagination/index.cjs");require("../../components/select/index.cjs");require("../../components/cascader/index.cjs");require("../../components/date_picker/index.cjs");require("../../components/upload/index.cjs");require("../../components/transfer/index.cjs");require("../../components/operate/index.cjs");require("../../components/tag/index.cjs");require("../../components/popover/index.cjs");const N=require("../../components/popconfirm/index.cjs");require("../../components/result/index.cjs");require("../../components/empty/index.cjs");require("../../components/message/index.cjs");require("../../components/message_box/index.cjs");require("../../components/dialog/index.cjs");require("../../components/dialog_service/index.cjs");require("../../components/tooltip/index.cjs");require("../../components/filter/index.cjs");require("../../components/drawer/index.cjs");const h=require("../../components/form/index.cjs");require("../../components/step/index.cjs");require("../../components/collapse/index.cjs");require("../../components/view/index.cjs");require("../../components/badge/index.cjs");require("../../components/timeline/index.cjs");require("../../components/calendar/index.cjs");require("../../components/tree/index.cjs");require("../../components/tree_table/index.cjs");require("../../components/dropdown/index.cjs");const k=require("../../components/tree_transfer/index.cjs");require("../../components/tree_select/index.cjs");require("../../components/filter_form/index.cjs");require("../../components/button_container/index.cjs");require("../../components/slider_button/index.cjs");require("../../components/script_input/index.cjs");require("../../components/icon_popover/index.cjs");require("../../components/global_provider/index.cjs");require("../../components/split/index.cjs");require("../../components/list/index.cjs");require("../../components/text_v2/index.cjs");const g=require("../../node_modules/ksw-vue-icon/es/icons/base/tips.cjs"),y=n=>(e.pushScopeId("data-v-70780ac9"),n=n(),e.popScopeId(),n),S={class:"k-transfer-view"},E={class:"transfer-dialog-content"},b={key:0,class:"transfer-view-box"},K={class:"empty-text"},B=y(()=>e.createElementVNode("div",null,"没有找到包含",-1)),D=y(()=>e.createElementVNode("div",null,"的数据",-1)),$={class:"footer"},I=e.defineComponent({name:"KTransferView",__name:"transferView",props:{treeTransferData:{default:()=>[]},title:{default:"仅允许选择同一种类型的机器"},defaultVal:{default:""},selectList:{default:()=>[]},defaultData:{default:()=>[]}},setup(n,{expose:T}){const l=n,a=e.reactive({machineType:l.defaultVal}),u=e.ref(null),V=()=>{a.machineType=s,setTimeout(()=>{u.value.clearData()},0),i.value=!1},x=()=>{i.value=!1},c=e.ref(l.defaultData),_=r=>{c.value=r},i=e.ref(!1);let s="";const f=r=>{s=r,a.machineType&&c.value.length!==0?i.value=!0:a.machineType=r};e.watch(()=>a.machineType,r=>{setTimeout(()=>{u.value.clearQuery()},0);const t=l.selectList.find(o=>o.type===r);t&&t.fun&&typeof t.fun=="function"&&t.fun(s)});const d=e.ref(),p=()=>{d.value&&d.value.validate(r=>r?{arr:c.value,type:a.machineType}:(console.warn("error submit!!"),!1))},m=()=>{};return T({handleSubmit:p,handleSelectType:f,handleCancel:m}),(r,t)=>(e.openBlock(),e.createElementBlock("div",S,[e.renderSlot(r.$slots,"header",{},()=>[e.createElementVNode("div",E,[e.createVNode(e.unref(g.default),{class:"transfer-dialog-icon"}),e.createTextVNode(" "+e.toDisplayString(r.title),1)])],!0),e.createVNode(e.unref(h.KForm),{ref_key:"KFormRef",ref:d,model:a,"label-width":"auto",style:{"max-width":"600px"}},{default:e.withCtx(()=>[e.createVNode(e.unref(h.KFormItem),{value:"选择机器类型",prop:"machineType",rules:{required:!0,message:"请选择类型"}},{default:e.withCtx(()=>[e.createVNode(e.unref(v.KRadioGroup),{modelValue:a.machineType,"onUpdate:modelValue":t[1]||(t[1]=o=>a.machineType=o)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.selectList,(o,w)=>(e.openBlock(),e.createBlock(e.unref(N.KPopconfirm),{key:w,visible:o.type===a.machineType&&i.value,"confirm-button-text":"Yes","cancel-button-text":"No",icon:"IconClear","icon-color":"#626AEF",title:"切换类型会清空你已选择的数据, 是否继续?",onConfirm:t[0]||(t[0]=C=>V()),onCancel:x},{reference:e.withCtx(()=>[e.createVNode(e.unref(v.KRadio),{value:o.type,onClick:e.withModifiers(C=>f(o.type),["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(o.name),1)]),_:2},1032,["value","onClick"])]),_:2},1032,["visible"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),a.machineType?(e.openBlock(),e.createElementBlock("div",b,[e.createVNode(e.unref(k.KTreeTransfer),e.mergeProps({ref_key:"myTreeTransfer",ref:u,data:r.treeTransferData,titles:["待选IP","已选IP"],"default-data":r.defaultData,value:"name","expand-icon":"IconFolderOpen","expand-icon-color":"#f60","collapse-icon-color":"red","icon-color":"green","collapse-icon":"IconFolderClose",class:"transfer-view-box-item"},r.$attrs,{onChange:_}),{empty:e.withCtx(({query:o})=>[e.createElementVNode("div",K,[B,e.createElementVNode("div",null,"'"+e.toDisplayString(o)+"'",1),D])]),_:1},16,["data","default-data"])])):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"footer",{},()=>[e.createElementVNode("div",$,[e.createVNode(e.unref(q.KButton),{onClick:m},{default:e.withCtx(()=>[e.createTextVNode("取消")]),_:1}),e.createVNode(e.unref(q.KButton),{type:"primary",main:"",onClick:t[2]||(t[2]=o=>p())},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1})])],!0)]))}});exports.default=I;
