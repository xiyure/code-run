"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const h=require("../../components/button/index.cjs");require("../../components/input/index.cjs");require("../../components/input_number/index.cjs");const y=require("../../components/radio/index.cjs");require("../../components/checkbox/index.cjs");require("../../components/switch/index.cjs");require("../../components/tab/index.cjs");require("../../components/pagination/index.cjs");require("../../components/select/index.cjs");require("../../components/cascader/index.cjs");require("../../components/date_picker/index.cjs");require("../../components/upload/index.cjs");require("../../components/transfer/index.cjs");require("../../components/operate/index.cjs");require("../../components/tag/index.cjs");require("../../components/popover/index.cjs");const g=require("../../components/popconfirm/index.cjs");require("../../components/result/index.cjs");require("../../components/empty/index.cjs");require("../../components/message/index.cjs");require("../../components/message_box/index.cjs");require("../../components/dialog/index.cjs");require("../../components/dialog_service/index.cjs");require("../../components/tooltip/index.cjs");require("../../components/filter/index.cjs");require("../../components/drawer/index.cjs");const T=require("../../components/form/index.cjs");require("../../components/step/index.cjs");require("../../components/collapse/index.cjs");require("../../components/view/index.cjs");require("../../components/badge/index.cjs");require("../../components/timeline/index.cjs");require("../../components/calendar/index.cjs");require("../../components/tree/index.cjs");require("../../components/tree_table/index.cjs");require("../../components/dropdown/index.cjs");const B=require("../../components/tree_transfer/index.cjs");require("../../components/tree_select/index.cjs");require("../../components/filter_form/index.cjs");require("../../components/button_container/index.cjs");require("../../components/slider_button/index.cjs");require("../../components/script_input/index.cjs");require("../../components/icon_popover/index.cjs");require("../../components/global_provider/index.cjs");require("../../components/split/index.cjs");require("../../components/list/index.cjs");require("../../components/text_v2/index.cjs");const e=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),t=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),S=require("../../node_modules/ksw-vue-icon/es/icons/base/tips.cjs"),m=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),E=require("../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.cjs"),V=a=>(e.pushScopeId("data-v-70780ac9"),a=a(),e.popScopeId(),a),b={class:"k-transfer-view"},D={class:"transfer-dialog-content"},K={key:0,class:"transfer-view-box"},$={class:"empty-text"},I=V(()=>e.createElementVNode("div",null,"没有找到包含",-1)),F=V(()=>e.createElementVNode("div",null,"的数据",-1)),P={class:"footer"},L=e.defineComponent({name:"KTransferView",__name:"transferView",props:{treeTransferData:{default:()=>[]},title:{default:"仅允许选择同一种类型的机器"},defaultVal:{default:""},selectList:{default:()=>[]},defaultData:{default:()=>[]}},setup(a,{expose:_}){const u=a,i=t.reactive({machineType:u.defaultVal}),s=t.ref(null),x=()=>{i.machineType=d,setTimeout(()=>{s.value.clearData()},0),l.value=!1},C=()=>{l.value=!1},c=t.ref(u.defaultData),w=r=>{c.value=r},l=t.ref(!1);let d="";const p=r=>{d=r,i.machineType&&c.value.length!==0?l.value=!0:i.machineType=r};e.watch(()=>i.machineType,r=>{setTimeout(()=>{s.value.clearQuery()},0);const n=u.selectList.find(o=>o.type===r);n&&n.fun&&typeof n.fun=="function"&&n.fun(d)});const f=t.ref(),q=()=>{f.value&&f.value.validate(r=>r?{arr:c.value,type:i.machineType}:(console.warn("error submit!!"),!1))},v=()=>{};return _({handleSubmit:q,handleSelectType:p,handleCancel:v}),(r,n)=>(e.openBlock(),e.createElementBlock("div",b,[e.renderSlot(r.$slots,"header",{},()=>[e.createElementVNode("div",D,[e.createVNode(t.unref(S.default),{class:"transfer-dialog-icon"}),e.createTextVNode(" "+m.toDisplayString(r.title),1)])],!0),e.createVNode(t.unref(T.KForm),{ref_key:"KFormRef",ref:f,model:i,"label-width":"auto",style:{"max-width":"600px"}},{default:e.withCtx(()=>[e.createVNode(t.unref(T.KFormItem),{value:"选择机器类型",prop:"machineType",rules:{required:!0,message:"请选择类型"}},{default:e.withCtx(()=>[e.createVNode(t.unref(y.KRadioGroup),{modelValue:i.machineType,"onUpdate:modelValue":n[1]||(n[1]=o=>i.machineType=o)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.selectList,(o,N)=>(e.openBlock(),e.createBlock(t.unref(g.KPopconfirm),{key:N,visible:o.type===i.machineType&&l.value,"confirm-button-text":"Yes","cancel-button-text":"No",icon:"IconClear","icon-color":"#626AEF",title:"切换类型会清空你已选择的数据, 是否继续?",onConfirm:n[0]||(n[0]=k=>x()),onCancel:C},{reference:e.withCtx(()=>[e.createVNode(t.unref(y.KRadio),{value:o.type,onClick:E.withModifiers(k=>p(o.type),["prevent"])},{default:e.withCtx(()=>[e.createTextVNode(m.toDisplayString(o.name),1)]),_:2},1032,["value","onClick"])]),_:2},1032,["visible"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),i.machineType?(e.openBlock(),e.createElementBlock("div",K,[e.createVNode(t.unref(B.KTreeTransfer),e.mergeProps({ref_key:"myTreeTransfer",ref:s,data:r.treeTransferData,titles:["待选IP","已选IP"],"default-data":r.defaultData,value:"name","expand-icon":"IconFolderOpen","expand-icon-color":"#f60","collapse-icon-color":"red","icon-color":"green","collapse-icon":"IconFolderClose",class:"transfer-view-box-item"},r.$attrs,{onChange:w}),{empty:e.withCtx(({query:o})=>[e.createElementVNode("div",$,[I,e.createElementVNode("div",null,"'"+m.toDisplayString(o)+"'",1),F])]),_:1},16,["data","default-data"])])):e.createCommentVNode("",!0),e.renderSlot(r.$slots,"footer",{},()=>[e.createElementVNode("div",P,[e.createVNode(t.unref(h.KButton),{onClick:v},{default:e.withCtx(()=>[e.createTextVNode("取消")]),_:1}),e.createVNode(t.unref(h.KButton),{type:"primary",main:"",onClick:n[2]||(n[2]=o=>q())},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1})])],!0)]))}});exports.default=L;
