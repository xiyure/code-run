"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),w=require("../../components/button/index.cjs");require("../../components/input/index.cjs");require("../../components/input_number/index.cjs");require("../../components/radio/index.cjs");require("../../components/checkbox/index.cjs");require("../../components/switch/index.cjs");const p=require("../../components/tab/index.cjs");require("../../components/pagination/index.cjs");require("../../components/select/index.cjs");require("../../components/cascader/index.cjs");require("../../components/date_picker/index.cjs");require("../../components/upload/index.cjs");require("../../components/transfer/index.cjs");require("../../components/operate/index.cjs");require("../../components/tag/index.cjs");require("../../components/popover/index.cjs");require("../../components/popconfirm/index.cjs");require("../../components/result/index.cjs");require("../../components/empty/index.cjs");require("../../components/message/index.cjs");require("../../components/message_box/index.cjs");require("../../components/dialog/index.cjs");require("../../components/dialog_service/index.cjs");require("../../components/tooltip/index.cjs");require("../../components/filter/index.cjs");require("../../components/drawer/index.cjs");require("../../components/form/index.cjs");require("../../components/step/index.cjs");require("../../components/collapse/index.cjs");require("../../components/view/index.cjs");require("../../components/badge/index.cjs");require("../../components/timeline/index.cjs");require("../../components/calendar/index.cjs");require("../../components/tree/index.cjs");require("../../components/tree_table/index.cjs");require("../../components/dropdown/index.cjs");require("../../components/tree_transfer/index.cjs");require("../../components/tree_select/index.cjs");require("../../components/filter_form/index.cjs");require("../../components/button_container/index.cjs");require("../../components/slider_button/index.cjs");require("../../components/script_input/index.cjs");require("../../components/icon_popover/index.cjs");require("../../components/global_provider/index.cjs");require("../../components/split/index.cjs");require("../../components/list/index.cjs");require("../../components/text_v2/index.cjs");const V=require("../../node_modules/ksw-vue-icon/es/icons/base/up.cjs"),N=require("../../node_modules/ksw-vue-icon/es/icons/base/tips.cjs"),S={id:"GFPageDetails",class:"GFPageDetails",style:{"min-width":"0"}},_={class:"GFPageDetailsHead-content px-10 w-full flex flex-col bg-white rounded overflow-hidden shadow-sm"},B={class:"head"},$={class:"w-full flex justify-between items-center mb-4"},E={class:"head-title"},P={class:"text-2xl font-bold"},D={key:1,class:"KPageHead-info h-6 w-6"},T={class:"head-toolbar"},F={class:"head-abstract mb-4 flex flex-col"},x={key:0,class:"!m-auto p-2"},z={class:"GFPageDetails-slot--default flex-1"},M=e.defineComponent({name:"GFPageDetails",__name:"GFPageDetails",props:{icon:{default:""},title:{default:"标题"},descriptions:{},columns:{default:3},abstract:{default:()=>[]},tabsConfig:{},tabs:{default:()=>[]},direction:{default:"horizontal"},useItemCollapse:{type:Boolean,default:!1}},setup(f,{expose:v}){var m;const a=f,i=e.ref(!0),r=e.ref(),q=(m=a.tabsConfig)==null?void 0:m.defaultActive,u=e.ref(q??a.tabs[0].name),c=e.ref(1),g=e.ref(1),d=e.ref(!1);e.onMounted(()=>{k(),C()});function h(t){u.value=t}function k(){var l;return(l=r.value)==null?void 0:l.children[0].children[0].clientHeight}function y(){i.value=!i.value}function C(){if(!(r!=null&&r.value))return;let t=1;const l=getComputedStyle(r==null?void 0:r.value).gridTemplateColumns.split(" ");for(let n=1;n<l.length;n++){if(Math.abs(parseInt(l[n])-parseInt(l[n-1]))>2){c.value=t;break}t++}c.value=t,setTimeout(()=>{b()},1)}function b(){var s;const t=((s=r.value)==null?void 0:s.clientHeight)??0,l=getComputedStyle(r==null?void 0:r.value).gridTemplateRows.split(" "),n=l[0];g.value=l.length,r==null||r.value.style.setProperty("--expandHeight",`${t}px`),r==null||r.value.style.setProperty("--transition-duration","0.3s"),r==null||r.value.style.setProperty("--firstRowHeight",`${n}`)}return v({toggleActiveTab:h}),(t,l)=>{const n=e.resolveComponent("k-tooltip"),s=e.resolveComponent("k-details-item");return e.openBlock(),e.createElementBlock("div",S,[e.createElementVNode("div",_,[e.createElementVNode("div",B,[e.renderSlot(t.$slots,"extra-head",{},()=>[e.createElementVNode("div",$,[e.createElementVNode("div",E,[e.renderSlot(t.$slots,"head-title",{},()=>[e.createElementVNode("div",{class:"flex items-center gap-1 h-8 items-center justify-center",onMouseenter:l[1]||(l[1]=()=>d.value=!0)},[t.icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.icon),{key:0,size:"24"})):e.createCommentVNode("",!0),e.createElementVNode("span",P,e.toDisplayString(t.title),1),t.descriptions?(e.openBlock(),e.createElementBlock("div",D,[t.descriptions?(e.openBlock(),e.createBlock(n,{key:0,content:t.descriptions,onHide:l[0]||(l[0]=()=>d.value=!1)},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(e.unref(N.default),{color:"#4193f2",size:"24"},null,512),[[e.vShow,d.value]])]),_:1},8,["content"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],32)])]),e.createElementVNode("div",T,[e.renderSlot(t.$slots,"head-toolbar")])])])]),e.createElementVNode("div",F,[e.renderSlot(t.$slots,"head-abstract",{},()=>[e.createElementVNode("div",{ref_key:"RefHeadAbstract",ref:r,class:e.normalizeClass(["RefHeadAbstract grid gap-4",{"is-collapse":!i.value&&t.useItemCollapse,"use-collapse":t.useItemCollapse&&i.value}]),style:e.normalizeStyle(`grid-template-columns:repeat(${t.columns},minmax(0, 1fr))`)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.abstract,o=>(e.openBlock(),e.createBlock(s,{key:o.label,label:o.label,value:o.value,render:o.render,style:e.normalizeStyle(`grid-column: span ${o.column}`),direction:t.direction},null,8,["label","value","render","style","direction"]))),128))],6),t.useItemCollapse?(e.openBlock(),e.createElementBlock("div",x,[e.createVNode(e.unref(w.KButton),{text:"",onClick:y},{default:e.withCtx(()=>[e.createVNode(e.unref(V.default),{rotate:i.value?180:0},null,8,["rotate"]),e.createTextVNode(" "+e.toDisplayString(i.value?"展开详情":"收起详情"),1)]),_:1})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",z,[e.renderSlot(t.$slots,"detail",{},()=>[e.createVNode(e.unref(p.KTabs),e.mergeProps({modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=o=>u.value=o)},t.tabsConfig),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabs,o=>(e.openBlock(),e.createBlock(e.unref(p.KTabPane),e.mergeProps({key:o.name},o),e.createSlots({default:e.withCtx(()=>[e.renderSlot(t.$slots,o.name)]),_:2},[t.$slots[`${o.name}-label`]?{name:"label",fn:e.withCtx(()=>[e.renderSlot(t.$slots,`${o.name}-label`)]),key:"0"}:void 0]),1040))),128))]),_:3},16,["modelValue"])])])])}}});exports.default=M;
