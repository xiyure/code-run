"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const w=require("../../components/button/index.cjs");require("../../components/input/index.cjs");require("../../components/input_number/index.cjs");require("../../components/radio/index.cjs");require("../../components/checkbox/index.cjs");require("../../components/switch/index.cjs");const q=require("../../components/tab/index.cjs");require("../../components/pagination/index.cjs");require("../../components/select/index.cjs");require("../../components/cascader/index.cjs");require("../../components/date_picker/index.cjs");require("../../components/upload/index.cjs");require("../../components/transfer/index.cjs");require("../../components/operate/index.cjs");require("../../components/tag/index.cjs");require("../../components/popover/index.cjs");require("../../components/popconfirm/index.cjs");require("../../components/result/index.cjs");require("../../components/empty/index.cjs");require("../../components/message/index.cjs");require("../../components/message_box/index.cjs");require("../../components/dialog/index.cjs");require("../../components/dialog_service/index.cjs");require("../../components/tooltip/index.cjs");require("../../components/filter/index.cjs");require("../../components/drawer/index.cjs");require("../../components/form/index.cjs");require("../../components/step/index.cjs");require("../../components/collapse/index.cjs");require("../../components/view/index.cjs");require("../../components/badge/index.cjs");require("../../components/timeline/index.cjs");require("../../components/calendar/index.cjs");require("../../components/tree/index.cjs");require("../../components/tree_table/index.cjs");require("../../components/dropdown/index.cjs");require("../../components/tree_transfer/index.cjs");require("../../components/tree_select/index.cjs");require("../../components/filter_form/index.cjs");require("../../components/button_container/index.cjs");require("../../components/slider_button/index.cjs");require("../../components/script_input/index.cjs");require("../../components/icon_popover/index.cjs");require("../../components/global_provider/index.cjs");require("../../components/split/index.cjs");require("../../components/list/index.cjs");require("../../components/text_v2/index.cjs");const V=require("../../node_modules/ksw-vue-icon/es/icons/base/up.cjs"),N=require("../../node_modules/ksw-vue-icon/es/icons/base/tips.cjs"),e=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),n=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),u=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),S=require("../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.cjs"),$={id:"GFPageDetails",class:"GFPageDetails",style:{"min-width":"0"}},E={class:"GFPageDetailsHead-content px-10 w-full flex flex-col bg-white rounded overflow-hidden shadow-sm"},P={class:"head"},D={class:"w-full flex justify-between items-center mb-4"},T={class:"head-title"},F={class:"text-2xl font-bold"},x={key:1,class:"KPageHead-info h-6 w-6"},z={class:"head-toolbar"},M={class:"head-abstract mb-4 flex flex-col"},G={key:0,class:"!m-auto p-2"},I={class:"GFPageDetails-slot--default flex-1"},K=e.defineComponent({name:"GFPageDetails",__name:"GFPageDetails",props:{icon:{default:""},title:{default:"标题"},descriptions:{},columns:{default:3},abstract:{default:()=>[]},tabsConfig:{},tabs:{default:()=>[]},direction:{default:"horizontal"},useItemCollapse:{type:Boolean,default:!1}},setup(v,{expose:g}){var f;const d=v,s=n.ref(!0),r=n.ref(),h=(f=d.tabsConfig)==null?void 0:f.defaultActive,c=n.ref(h??d.tabs[0].name),p=n.ref(1),k=n.ref(1),m=n.ref(!1);e.onMounted(()=>{C(),_()});function y(t){c.value=t}function C(){var l;return(l=r.value)==null?void 0:l.children[0].children[0].clientHeight}function b(){s.value=!s.value}function _(){if(!(r!=null&&r.value))return;let t=1;const l=getComputedStyle(r==null?void 0:r.value).gridTemplateColumns.split(" ");for(let i=1;i<l.length;i++){if(Math.abs(parseInt(l[i])-parseInt(l[i-1]))>2){p.value=t;break}t++}p.value=t,setTimeout(()=>{B()},1)}function B(){var a;const t=((a=r.value)==null?void 0:a.clientHeight)??0,l=getComputedStyle(r==null?void 0:r.value).gridTemplateRows.split(" "),i=l[0];k.value=l.length,r==null||r.value.style.setProperty("--expandHeight",`${t}px`),r==null||r.value.style.setProperty("--transition-duration","0.3s"),r==null||r.value.style.setProperty("--firstRowHeight",`${i}`)}return g({toggleActiveTab:y}),(t,l)=>{const i=e.resolveComponent("k-tooltip"),a=e.resolveComponent("k-details-item");return e.openBlock(),e.createElementBlock("div",$,[e.createElementVNode("div",E,[e.createElementVNode("div",P,[e.renderSlot(t.$slots,"extra-head",{},()=>[e.createElementVNode("div",D,[e.createElementVNode("div",T,[e.renderSlot(t.$slots,"head-title",{},()=>[e.createElementVNode("div",{class:"flex items-center gap-1 h-8 items-center justify-center",onMouseenter:l[1]||(l[1]=()=>m.value=!0)},[t.icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.icon),{key:0,size:"24"})):e.createCommentVNode("",!0),e.createElementVNode("span",F,u.toDisplayString(t.title),1),t.descriptions?(e.openBlock(),e.createElementBlock("div",x,[t.descriptions?(e.openBlock(),e.createBlock(i,{key:0,content:t.descriptions,onHide:l[0]||(l[0]=()=>m.value=!1)},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(n.unref(N.default),{color:"#4193f2",size:"24"},null,512),[[S.vShow,m.value]])]),_:1},8,["content"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],32)])]),e.createElementVNode("div",z,[e.renderSlot(t.$slots,"head-toolbar")])])])]),e.createElementVNode("div",M,[e.renderSlot(t.$slots,"head-abstract",{},()=>[e.createElementVNode("div",{ref_key:"RefHeadAbstract",ref:r,class:u.normalizeClass(["RefHeadAbstract grid gap-4",{"is-collapse":!s.value&&t.useItemCollapse,"use-collapse":t.useItemCollapse&&s.value}]),style:u.normalizeStyle(`grid-template-columns:repeat(${t.columns},minmax(0, 1fr))`)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.abstract,o=>(e.openBlock(),e.createBlock(a,{key:o.label,label:o.label,value:o.value,render:o.render,style:u.normalizeStyle(`grid-column: span ${o.column}`),direction:t.direction},null,8,["label","value","render","style","direction"]))),128))],6),t.useItemCollapse?(e.openBlock(),e.createElementBlock("div",G,[e.createVNode(n.unref(w.KButton),{text:"",onClick:b},{default:e.withCtx(()=>[e.createVNode(n.unref(V.default),{rotate:s.value?180:0},null,8,["rotate"]),e.createTextVNode(" "+u.toDisplayString(s.value?"展开详情":"收起详情"),1)]),_:1})])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",I,[e.renderSlot(t.$slots,"detail",{},()=>[e.createVNode(n.unref(q.KTabs),e.mergeProps({modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=o=>c.value=o)},t.tabsConfig),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.tabs,o=>(e.openBlock(),e.createBlock(n.unref(q.KTabPane),e.mergeProps({key:o.name},o),e.createSlots({default:e.withCtx(()=>[e.renderSlot(t.$slots,o.name)]),_:2},[t.$slots[`${o.name}-label`]?{name:"label",fn:e.withCtx(()=>[e.renderSlot(t.$slots,`${o.name}-label`)]),key:"0"}:void 0]),1040))),128))]),_:3},16,["modelValue"])])])])}}});exports.default=K;
