"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),g=require("../../components/button/index.cjs");require("../../components/input/index.cjs");require("../../components/input_number/index.cjs");require("../../components/radio/index.cjs");require("../../components/checkbox/index.cjs");require("../../components/switch/index.cjs");require("../../components/tab/index.cjs");require("../../components/pagination/index.cjs");require("../../components/select/index.cjs");require("../../components/cascader/index.cjs");require("../../components/date_picker/index.cjs");require("../../components/upload/index.cjs");require("../../components/transfer/index.cjs");require("../../components/operate/index.cjs");require("../../components/tag/index.cjs");require("../../components/popover/index.cjs");require("../../components/popconfirm/index.cjs");require("../../components/result/index.cjs");require("../../components/empty/index.cjs");require("../../components/message/index.cjs");require("../../components/message_box/index.cjs");require("../../components/dialog/index.cjs");require("../../components/dialog_service/index.cjs");const y=require("../../components/tooltip/index.cjs");require("../../components/filter/index.cjs");require("../../components/drawer/index.cjs");require("../../components/form/index.cjs");require("../../components/step/index.cjs");require("../../components/collapse/index.cjs");require("../../components/view/index.cjs");require("../../components/badge/index.cjs");require("../../components/timeline/index.cjs");require("../../components/calendar/index.cjs");require("../../components/tree/index.cjs");require("../../components/tree_table/index.cjs");require("../../components/dropdown/index.cjs");require("../../components/tree_transfer/index.cjs");require("../../components/tree_select/index.cjs");require("../../components/filter_form/index.cjs");require("../../components/button_container/index.cjs");require("../../components/slider_button/index.cjs");require("../../components/script_input/index.cjs");require("../../components/icon_popover/index.cjs");require("../../components/global_provider/index.cjs");require("../../components/split/index.cjs");require("../../components/list/index.cjs");require("../../components/text_v2/index.cjs");const f=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const V=require("../../node_modules/ksw-vue-icon/es/icons/base/arrow-left.cjs"),b=require("../../node_modules/ksw-vue-icon/es/icons/base/tips.cjs"),B=require("../../node_modules/ksw-vue-icon/es/icons/base/reload.cjs"),k={class:"drawer-btn flex h-5 w-5 items-center justify-center rounded-full border bg-white text-sm text-gray-400 hover:border-blue-400 hover:font-bold hover:text-blue-400"},N={class:"KPageViewBus-content h-full"},E={class:"KPageViewBus-content--drawer flex h-full flex-col"},x={class:"KPageViewBus-head box-border flex items-center justify-between border-b border-gray-200 py-4"},C={class:"KPageViewBus-head-title text-xl"},S={key:0,class:"KPageViewBus-head-info"},L={class:"KPageViewBus-main flex h-full w-full flex-col"},P={key:0,class:"KPageViewBus-foot pt-3"},z=e.defineComponent({name:"KPageViewBus",__name:"PageViewBus",props:{title:{default:""},info:{},showRefresh:{type:Boolean,default:!0},defaultWidth:{default:250},maxWidth:{default:9999},minWidth:{default:0},resizeLineStyle:{},resizeLineClass:{},previewLineStyle:{},previewLineClass:{}},emits:["refresh"],setup(m,{emit:v}){const o=m,q=v,u=e.ref(!1);let n=0;const t=e.ref(Number(o.defaultWidth)),l=e.ref(!1);let a=0;const s=e.ref(0);function h(r){l.value=!0,a=r.clientX,s.value=t.value,document.addEventListener("mousemove",d),document.addEventListener("mouseup",c)}function d(r){if(l.value){const i=r.clientX-a,w=t.value+i;s.value=Math.min(Math.max(w,o.minWidth),o.maxWidth)}}function c(){t.value=s.value,l.value=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",c)}function p(){const r=t.value;r===0?t.value=n:(n=r,t.value=0)}return(r,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["KPageViewBus relative border-r border-gray-100 px-3",{"is-hide":t.value===0}]),style:e.normalizeStyle({width:t.value+"px"})},[e.createElementVNode("div",{class:"drawer-btn-box absolute flex h-6 w-6 items-center justify-center",onClick:p},[e.createElementVNode("div",k,[e.createVNode(e.unref(V.default),{class:"text-gray-400"})])]),e.createElementVNode("div",N,[e.createElementVNode("div",E,[e.createElementVNode("div",x,[e.createElementVNode("div",{class:"flex h-8 items-center gap-1",onMouseenter:i[0]||(i[0]=()=>u.value=!0),onMouseleave:i[1]||(i[1]=()=>u.value=!1)},[e.createElementVNode("p",C,e.toDisplayString(r.title),1),o.info?(e.openBlock(),e.createElementBlock("div",S,[e.createVNode(e.unref(y.KTooltip),{content:o.info},{default:e.withCtx(()=>[e.withDirectives(e.createVNode(e.unref(b.default),{class:"cursor-pointer",color:"#4193f2",size:"16"},null,512),[[e.vShow,u.value]])]),_:1},8,["content"])])):e.createCommentVNode("",!0)],32),e.renderSlot(r.$slots,e.unref(f.compatibleSlots)(r.$slots,["header","head"]),{},()=>[o.showRefresh?(e.openBlock(),e.createBlock(e.unref(g.KButton),{key:0,text:"",style:{"padding-right":"0"},onClick:i[2]||(i[2]=()=>q("refresh"))},{default:e.withCtx(()=>[e.createVNode(e.unref(B.default),{color:"gray"})]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",L,[e.renderSlot(r.$slots,"default")]),r.$slots.footer||r.$slots.foot?(e.openBlock(),e.createElementBlock("div",P,[e.renderSlot(r.$slots,e.unref(f.compatibleSlots)(r.$slots,["footer","foot"]))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",{class:e.normalizeClass(["k-page-view-bus-resizer",r.resizeLineClass]),style:e.normalizeStyle(r.resizeLineStyle),onMousedown:h},null,38),l.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["k-page-view-bus-preview",r.previewLineClass]),style:e.normalizeStyle({left:s.value+"px",...r.previewLineStyle??{}})},null,6)):e.createCommentVNode("",!0)],6))}});exports.default=z;
