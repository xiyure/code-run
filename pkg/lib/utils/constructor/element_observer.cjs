"use strict";var c=Object.defineProperty;var b=(s,e,t)=>e in s?c(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e,t)=>b(s,typeof e!="symbol"?e+"":e,t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs"),u=require("../utils.cjs"),o="data-observer-key";class v{constructor(){n(this,"resizeObserver");n(this,"actions");this.actions={},typeof a.default<"u"?this.resizeObserver=new a.default(e=>{e.forEach(t=>{const i=t.target.getAttribute(o);i&&this.actions[i]&&this.actions[i](t)})}):this.resizeObserver=null}observe(e,t){var i;if(!(e instanceof HTMLElement)&&!(e instanceof Element))return;const r=`_observer_${u.genRandomStr(10)}`;e.setAttribute(o,r),this.actions[r]=t,(i=this.resizeObserver)==null||i.observe(e)}unobserve(e){var r;if(!(e instanceof HTMLElement)&&!(e instanceof Element))return;const t=e.getAttribute(o)??"";delete this.actions[t],(r=this.resizeObserver)==null||r.unobserve(e)}}exports.ElementObserver=v;
