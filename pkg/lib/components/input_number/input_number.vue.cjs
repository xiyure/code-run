"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),z=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const D=require("../../hooks/use_size.cjs"),_=require("../../node_modules/element-plus/es/components/input-number/index.cjs"),C=t.defineComponent({name:"KInputNumber",__name:"input_number",props:{size:{},onlyDigits:{type:Boolean},supportSymbols:{default:()=>["+","-",".","e","E"]}},setup(d,{expose:m}){const o=d,g=D.useSize(o),a=t.ref(null),s=["+","-",".","e","E"];let l="";const r=t.computed(()=>{if(o.onlyDigits)return new Set(s);if(Array.isArray(o.supportSymbols)){const e=new Set(s);return o.supportSymbols.forEach(n=>{n==="e"||n==="E"?(e.delete("e"),e.delete("E")):e.delete(n)}),e.size===s.length?new Set:e}return new Set});function b(e){return r.value.has(e.key)?(e.preventDefault(),!1):!0}function E(e){u(e.target)&&i()&&p()&&(l=e.target.value)}function S(e){if(u(e.target)&&i()&&p()){e.target.value=l;const n=new Event("input",{bubbles:!0});e.target.dispatchEvent(n)}}function h(e){if(u(e.target)&&i()){const c=(e.clipboardData||window.clipboardData).getData("text/plain");y().test(c)&&e.preventDefault()}}function i(){return r.value.size>0}function p(){return r.value.has("e")||r.value.has("E")}function y(){let e="";return Array.from(r.value).forEach(n=>{n==="."||n==="+"?e+=`\\${n}|`:e+=`${n}|`}),e=e.substring(0,e.length-1),new RegExp(e,"i")}function u(e){return e instanceof HTMLInputElement}const w={};return m(z.getExposeProxy(w,a)),(e,n)=>(t.openBlock(),t.createBlock(t.unref(_.ElInputNumber),t.mergeProps({ref_key:"inputNumberRef",ref:a,class:"k-input-number"},e.$attrs,{size:t.unref(g).elSize,onKeydown:b,onCompositionstart:E,onCompositionend:S,onPaste:h}),t.createSlots({_:2},[t.renderList(e.$slots,(c,f)=>({name:f,fn:t.withCtx(v=>[t.renderSlot(e.$slots,f,t.normalizeProps(t.guardReactiveProps(v)))])}))]),1040,["size"]))}});exports.default=C;
