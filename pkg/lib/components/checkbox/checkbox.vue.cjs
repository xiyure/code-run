"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const _=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");const a=require("../../utils/color.cjs"),E=require("../../hooks/use_size.cjs"),S=require("./const.cjs"),P=require("../../node_modules/element-plus/es/components/checkbox/index.cjs"),t=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),o=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),w=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),L={class:"checkbox__label"},N=t.defineComponent({name:"KCheckbox",__name:"checkbox",props:{size:{},label:{},color:{default:""},strict:{type:Boolean,default:!1}},setup(v,{expose:y}){const c=v,i=o.ref(),u=_.genRandomStr(8),q=E.useSize(c),g=o.ref(c.color),s=o.ref(),l=o.ref();typeof window<"u"&&t.nextTick(()=>{s.value=document==null?void 0:document.getElementById(u)}),t.watch(()=>c.color,e=>{var n,f;if(!e)return;g.value=e;const r=(f=(n=a.GetColorLevelNew)==null?void 0:n.call(a,e))==null?void 0:f.colorLevel;t.nextTick(()=>{var d,k,b,h,p;if((d=s.value)!=null&&d.style){l.value=(b=(k=s.value)==null?void 0:k.parentNode)==null?void 0:b.parentNode;const z=(h=r==null?void 0:r["--k-oklch-500"].match(/\(([^)]+)\)/))==null?void 0:h[1];(p=l.value)==null||p.style.setProperty("--checkbox-color--focus",`rgba(${z}, 0.2)`),S.colors.forEach(m=>{var x;(x=l.value)==null||x.style.setProperty(`--checkbox${m.name}`,r==null?void 0:r[`--k-oklch-${m.value}`])})}})},{immediate:!0});function C(e){var n;if(!c.strict||!e.target||!(e.target instanceof Element))return;((n=e.target)==null?void 0:n.classList.contains("el-checkbox__inner"))||e.preventDefault()}const B=t.computed(()=>{const{ownSize:e}=q.value;return e?`k-checkbox--${e}`:""}),$={};return y(_.getExposeProxy($,i)),(e,r)=>(t.openBlock(),t.createBlock(o.unref(P.ElCheckbox),t.mergeProps({id:o.unref(u),ref_key:"kCheckboxRef",ref:i,class:["k-checkbox",B.value]},e.$attrs,{label:e.label,onClick:C}),{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default",{},()=>[t.createElementVNode("span",L,w.toDisplayString(c.label),1)])]),_:3},16,["id","class","label"]))}});exports.default=N;
