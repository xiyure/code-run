"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),m=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");const l=require("../../utils/color.cjs"),E=require("../../hooks/use_size.cjs"),S=require("./const.cjs"),P=require("../../node_modules/element-plus/es/components/checkbox/index.cjs"),w={class:"checkbox__label"},B=e.defineComponent({name:"KCheckbox",__name:"checkbox",props:{size:{},label:{},color:{default:""},strict:{type:Boolean,default:!1}},setup(v,{expose:_}){const c=v,a=e.ref(),i=m.genRandomStr(8),y=E.useSize(c),g=e.ref(c.color),n=e.ref(),s=e.ref();typeof window<"u"&&e.nextTick(()=>{n.value=document==null?void 0:document.getElementById(i)}),e.watch(()=>c.color,t=>{var r,u;if(!t)return;g.value=t;const o=(u=(r=l.GetColorLevelNew)==null?void 0:r.call(l,t))==null?void 0:u.colorLevel;e.nextTick(()=>{var f,k,d,b,h;if((f=n.value)!=null&&f.style){s.value=(d=(k=n.value)==null?void 0:k.parentNode)==null?void 0:d.parentNode;const z=(b=o==null?void 0:o["--k-oklch-500"].match(/\(([^)]+)\)/))==null?void 0:b[1];(h=s.value)==null||h.style.setProperty("--checkbox-color--focus",`rgba(${z}, 0.2)`),S.colors.forEach(p=>{var x;(x=s.value)==null||x.style.setProperty(`--checkbox${p.name}`,o==null?void 0:o[`--k-oklch-${p.value}`])})}})},{immediate:!0});function C(t){var r;if(!c.strict||!t.target||!(t.target instanceof Element))return;((r=t.target)==null?void 0:r.classList.contains("el-checkbox__inner"))||t.preventDefault()}const q=e.computed(()=>{const{ownSize:t}=y.value;return t?`k-checkbox--${t}`:""}),$={};return _(m.getExposeProxy($,a)),(t,o)=>(e.openBlock(),e.createBlock(e.unref(P.ElCheckbox),e.mergeProps({id:e.unref(i),ref_key:"kCheckboxRef",ref:a,class:["k-checkbox",q.value]},t.$attrs,{label:t.label,onClick:C}),{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default",{},()=>[e.createElementVNode("span",w,e.toDisplayString(c.label),1)])]),_:3},16,["id","class","label"]))}});exports.default=B;
