"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const T=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");const a=require("../../utils/color.cjs"),x=require("../../hooks/use_size.cjs"),z=require("../../hooks/use_deprecated.cjs"),B=require("./const.cjs"),S=require("../../node_modules/element-plus/es/components/tag/index.cjs"),t=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),l=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),n=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),E={class:"k-tag"},N=t.defineComponent({name:"KTag",__name:"tag",props:{type:{default:void 0},color:{},size:{},point:{type:Boolean,default:!1},text:{default:void 0},textColor:{},border:{type:Boolean},showOverflow:{type:Boolean,default:!1},effect:{default:"dark"}},setup(k,{expose:w}){const o=k;z.useDeprecated({scope:"k-tag",from:"border",replacement:'effect: "light"',version:"2.0.0"},t.computed(()=>!!o.border));const _=x.useSize(o),s=l.ref(),c=l.ref(o.color),u=l.ref(!1);function q(e){const r=e==null?void 0:e.scrollWidth,i=e==null?void 0:e.clientWidth;return r>i}t.watch(()=>o.text,()=>{t.nextTick(()=>{u.value=q(s.value.$el.childNodes[0].children[0])})},{immediate:!0}),t.watch(()=>o.color,e=>{var i,d;if(!e)return;c.value=e;const r=(d=(i=a.GetColorLevelNew)==null?void 0:i.call(a,e))==null?void 0:d.colorLevel;t.nextTick(()=>{var f,p,v,m,h;if((p=(f=s.value)==null?void 0:f.$el)!=null&&p.style){const b=(m=(v=r==null?void 0:r["--k-oklch-500"])==null?void 0:v.match(/\(([^)]+)\)/))==null?void 0:m[1];(h=s.value.$el)==null||h.style.setProperty("--tag-color--focus",`rgba(${b}, 0.2)`),B.colors.forEach(y=>{var g;(g=s.value.$el)==null||g.style.setProperty(`--tag${y.name}`,r==null?void 0:r[`--k-oklch-${y.value}`])})}})},{immediate:!0});const $={};return w(T.getExposeProxy($,s)),(e,r)=>{const i=t.resolveDirective("ksw_tooltip");return t.withDirectives((t.openBlock(),t.createElementBlock("div",E,[t.createVNode(l.unref(S.ElTag),t.mergeProps({ref_key:"KTagRef",ref:s,class:[{"is-light":e.border,"is-point":e.point,[`k-tag__${e.type}`]:e.type,"is-custom":c.value,"pr-0":u.value},[`is-${e.effect}`]]},e.$attrs,{size:l.unref(_).elSize}),{default:t.withCtx(()=>[t.createElementVNode("span",{ref:"KTagSpanRef",class:n.normalizeClass({" inline-block  max-w-24  overflow-hidden text-ellipsis text-nowrap  break-words pr-0":e.showOverflow}),style:n.normalizeStyle({color:e.textColor})},[t.renderSlot(e.$slots,"default",{},()=>[t.createTextVNode(n.toDisplayString(o.text),1)])],6)]),_:3},16,["class","size"])])),[[i,{content:o.text,visible:o.showOverflow}]])}}});exports.default=N;
