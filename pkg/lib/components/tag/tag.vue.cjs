"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),b=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");const i=require("../../utils/color.cjs"),T=require("../../hooks/use_size.cjs"),q=require("../../hooks/use_deprecated.cjs"),x=require("./const.cjs"),z=require("../../node_modules/element-plus/es/components/tag/index.cjs"),S={class:"k-tag"},B=e.defineComponent({name:"KTag",__name:"tag",props:{type:{default:void 0},color:{},size:{},point:{type:Boolean,default:!1},text:{default:void 0},textColor:{},border:{type:Boolean},showOverflow:{type:Boolean,default:!1},effect:{default:"dark"}},setup(g,{expose:k}){const r=g;q.useDeprecated({scope:"k-tag",from:"border",replacement:'effect: "light"',version:"2.0.0"},e.computed(()=>!!r.border));const w=T.useSize(r),s=e.ref(),a=e.ref(r.color),n=e.ref(!1);function y(t){const o=t==null?void 0:t.scrollWidth,l=t==null?void 0:t.clientWidth;return o>l}e.watch(()=>r.text,()=>{e.nextTick(()=>{n.value=y(s.value.$el.childNodes[0].children[0])})},{immediate:!0}),e.watch(()=>r.color,t=>{var l,c;if(!t)return;a.value=t;const o=(c=(l=i.GetColorLevelNew)==null?void 0:l.call(i,t))==null?void 0:c.colorLevel;e.nextTick(()=>{var u,f,d,p,v;if((f=(u=s.value)==null?void 0:u.$el)!=null&&f.style){const $=(p=(d=o==null?void 0:o["--k-oklch-500"])==null?void 0:d.match(/\(([^)]+)\)/))==null?void 0:p[1];(v=s.value.$el)==null||v.style.setProperty("--tag-color--focus",`rgba(${$}, 0.2)`),x.colors.forEach(h=>{var m;(m=s.value.$el)==null||m.style.setProperty(`--tag${h.name}`,o==null?void 0:o[`--k-oklch-${h.value}`])})}})},{immediate:!0});const _={};return k(b.getExposeProxy(_,s)),(t,o)=>{const l=e.resolveDirective("ksw_tooltip");return e.withDirectives((e.openBlock(),e.createElementBlock("div",S,[e.createVNode(e.unref(z.ElTag),e.mergeProps({ref_key:"KTagRef",ref:s,class:[{"is-light":t.border,"is-point":t.point,[`k-tag__${t.type}`]:t.type,"is-custom":a.value,"pr-0":n.value},[`is-${t.effect}`]]},t.$attrs,{size:e.unref(w).elSize}),{default:e.withCtx(()=>[e.createElementVNode("span",{ref:"KTagSpanRef",class:e.normalizeClass({" inline-block  max-w-24  overflow-hidden text-ellipsis text-nowrap  break-words pr-0":t.showOverflow}),style:e.normalizeStyle({color:t.textColor})},[e.renderSlot(t.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(r.text),1)])],6)]),_:3},16,["class","size"])])),[[l,{content:r.text,visible:r.showOverflow}]])}}});exports.default=B;
