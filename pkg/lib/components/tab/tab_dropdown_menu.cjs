"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const o=require("vue"),c=require("../dropdown/index.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");const d=require("../../utils/props.cjs");require("../../node_modules/culori/src/index.cjs");const q=o.defineComponent({name:"TabLabel",props:{tabIndexList:{type:Array,default:()=>[]},tabSlots:{type:Object,default:()=>null}},emits:["command"],setup(i,{slots:m,emit:p}){return()=>{var n,r;const a=new Map(i.tabIndexList.map((e,l)=>[e,l])),t=b(d.flattenChildren((r=(n=i.tabSlots)==null?void 0:n.default)==null?void 0:r.call(n))).filter((e,l)=>a.has(l));return o.createVNode(o.Fragment,null,[o.createVNode(c.KDropdown,{trigger:"click",disabled:i.tabIndexList.length===0,maxHeight:"300px",onCommand:f},{default:()=>[t.map(e=>o.createVNode(c.KDropdownItem,{key:e.name,command:e,disabled:e.disabled},{default:()=>[typeof(e==null?void 0:e.label)=="function"?e.label():e.label]}))],...m})])};function f(a){p("command",a)}function b(a){return a.map(t=>{var n;if(d.isValidElement(t)){const r={...t.props||{}};for(const[u,x]of Object.entries(r))delete r[u],r[d.camelize(u)]=x;const e=t.children||{},l=((n=t.props)==null?void 0:n.name)!==void 0?t.props.name:void 0,{label:g=e.label,disabled:s}=r;return{name:l,label:g,disabled:s===""||s}}return null}).filter(t=>t)}}});exports.default=q;
