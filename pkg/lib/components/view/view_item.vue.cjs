"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const k=require("../../hooks/use_locale.cjs"),v=require("./const.cjs"),g=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const y=require("../../utils/dom.cjs"),u=require("../../node_modules/element-plus/es/components/dropdown/index.cjs"),e=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),n=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),l=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),V=require("../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.cjs"),B=require("../../node_modules/ksw-vue-icon/es/icons/base/ellipsis-horizontal.cjs"),q=["data-view-value"],D={class:"k-view-item__label"},E={class:"k-view-item__other"},b={key:0},N=e.defineComponent({name:"KViewItem",__name:"view_item",props:{label:{},value:{},count:{},custom:{type:Boolean},disabled:{type:Boolean},showCustomControl:{type:Boolean},originData:{}},emits:["change","remove"],setup(p,{emit:w}){const{t:_}=k.useLocale(),i=p,c=w,m=e.inject(v.ACTIVE_VIEW_KEY,n.ref(0)),s=e.inject(v.P_PROPS_KEY,{}),a=e.computed(()=>{const{iconMethod:t}=s??{};if(typeof t!="function")return null;const r=t(i.originData,void 0),o=(r==null?void 0:r.icon)??r;return typeof o=="string"||y.isVueComponent(o)?{_icon:o,...g.getRestAttrs(r,["icon"])}:null});function f(t){switch(t){case"remove":h()}}function C(){i.disabled||m.value===i.value||c("change",i.originData)}function h(){c("remove",i.originData)}return(t,r)=>(e.openBlock(),e.createElementBlock("div",{class:l.normalizeClass(["k-view-item",{"k-view-active":n.unref(m)===t.value,"k-view-disabled":t.disabled,"k-view-custom":t.custom,"k-view-common":!t.custom}]),"data-view-value":t.value,onClick:C},[e.createElementVNode("div",D,[e.renderSlot(t.$slots,"label",{},()=>[e.renderSlot(t.$slots,"label-text",{},()=>{var o,d;return[(o=a.value)!=null&&o._icon?(e.openBlock(),e.createBlock(e.resolveDynamicComponent((d=a.value)==null?void 0:d._icon),{key:0,style:l.normalizeStyle({marginRight:"0.25rem",...a.value})},null,8,["style"])):e.createCommentVNode("",!0),e.createTextVNode(" "+l.toDisplayString(i.label),1)]})])]),e.createElementVNode("div",E,[n.unref(s).showCount?(e.openBlock(),e.createElementBlock("span",b,l.toDisplayString(i.count),1)):e.createCommentVNode("",!0),t.showCustomControl??n.unref(s).showCustomControl?(e.openBlock(),e.createBlock(n.unref(u.ElDropdown),{key:1,trigger:"click",onCommand:f},{dropdown:e.withCtx(()=>[e.createVNode(n.unref(u.ElDropdownMenu),null,{default:e.withCtx(()=>[e.createVNode(n.unref(u.ElDropdownItem),{command:"remove"},{default:e.withCtx(()=>{var o;return[e.createTextVNode(l.toDisplayString((o=n.unref(_))==null?void 0:o("view.remove")),1)]}),_:1})]),_:1})]),default:e.withCtx(()=>[e.createElementVNode("span",{class:"k-view-item-remove",onClick:r[0]||(r[0]=V.withModifiers(()=>{},["stop","prevent"]))},[e.createVNode(n.unref(B.default))])]),_:1})):e.createCommentVNode("",!0)])],10,q))}});exports.default=N;
