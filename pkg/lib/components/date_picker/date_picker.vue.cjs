"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const P=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const d=require("../../hooks/use_size.cjs"),_=require("../../hooks/use_locale.cjs"),v=require("../../node_modules/element-plus/es/components/date-picker/index.cjs"),s=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),u=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),q=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),S=s.defineComponent({name:"KDatePicker",__name:"date_picker",props:{size:{},shortcuts:{},showDefaultShortcuts:{type:Boolean,default:!0},type:{}},setup(D,{expose:h}){const a=D,{t:r}=_.useLocale(),c=d.useSize(a),i=u.ref(null),f=s.computed(()=>[{text:r==null?void 0:r("datePicker.within7days"),value:()=>l(-7)},{text:r==null?void 0:r("datePicker.within15days"),value:()=>l(-15)},{text:r==null?void 0:r("datePicker.curMonth"),value:g()},{text:r==null?void 0:r("datePicker.curQuarter"),value:y()},{text:r==null?void 0:r("datePicker.curYear"),value:k()}]),p=s.computed(()=>(a.type==="daterange"||a.type==="datetimerange")&&a.showDefaultShortcuts?[...f.value,...a.shortcuts||[]]:a.shortcuts);function l(e){const t=new Date,n=new Date;return n.setDate(n.getDate()+e),e>0?[t,n]:[n,t]}function g(){const e=new Date;e.setDate(1),e.setHours(0,0,0,0);const t=m(),n=new Date;return n.setDate(t),n.setHours(23,59,59,59),[e,n]}function m(){const e=new Date().getMonth()+1,t=[1,3,5,7,8,10,12],n=[4,6,9,11];if(t.includes(e))return 31;if(n.includes(e))return 30;const o=new Date().getFullYear();return o%4===0&&o%100!==0||o%400===0?29:28}function y(){const e=new Date,t=new Date,n=e.getMonth(),o=Math.floor(n/3);return e.setMonth(o*3),e.setDate(1),e.setHours(0,0,0,0),t.setMonth(o*3+2),t.setHours(23,59,59,59),o===0||o===3?t.setDate(31):t.setDate(30),[e,t]}function k(){const e=new Date,t=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0,0,0,0),t.setMonth(11),t.setDate(31),t.setHours(23,59,59,59),[e,t]}s.provide(d.SIZE_KEY,c);const w={};return h(P.getExposeProxy(w,i)),(e,t)=>(s.openBlock(),s.createBlock(u.unref(v.ElDatePicker),s.mergeProps({ref_key:"datePickerRef",ref:i,class:"k-date-picker"},e.$attrs,{type:e.type,shortcuts:p.value,size:u.unref(c).elSize}),s.createSlots({_:2},[s.renderList(e.$slots,(n,o)=>({name:o,fn:s.withCtx(M=>[s.renderSlot(e.$slots,o,q.normalizeProps(s.guardReactiveProps(M)))])}))]),1040,["type","shortcuts","size"]))}});exports.default=S;
