"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),M=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const l=require("../../hooks/use_size.cjs"),P=require("../../hooks/use_locale.cjs"),v=require("../../node_modules/element-plus/es/components/date-picker/index.cjs"),S=r.defineComponent({name:"KDatePicker",__name:"date_picker",props:{size:{},shortcuts:{},showDefaultShortcuts:{type:Boolean,default:!0},type:{}},setup(D,{expose:d}){const a=D,{t:n}=P.useLocale(),u=l.useSize(a),c=r.ref(null),f=r.computed(()=>[{text:n==null?void 0:n("datePicker.within7days"),value:()=>i(-7)},{text:n==null?void 0:n("datePicker.within15days"),value:()=>i(-15)},{text:n==null?void 0:n("datePicker.curMonth"),value:p()},{text:n==null?void 0:n("datePicker.curQuarter"),value:k()},{text:n==null?void 0:n("datePicker.curYear"),value:m()}]),h=r.computed(()=>(a.type==="daterange"||a.type==="datetimerange")&&a.showDefaultShortcuts?[...f.value,...a.shortcuts||[]]:a.shortcuts);function i(e){const t=new Date,s=new Date;return s.setDate(s.getDate()+e),e>0?[t,s]:[s,t]}function p(){const e=new Date;e.setDate(1),e.setHours(0,0,0,0);const t=g(),s=new Date;return s.setDate(t),s.setHours(23,59,59,59),[e,s]}function g(){const e=new Date().getMonth()+1,t=[1,3,5,7,8,10,12],s=[4,6,9,11];if(t.includes(e))return 31;if(s.includes(e))return 30;const o=new Date().getFullYear();return o%4===0&&o%100!==0||o%400===0?29:28}function k(){const e=new Date,t=new Date,s=e.getMonth(),o=Math.floor(s/3);return e.setMonth(o*3),e.setDate(1),e.setHours(0,0,0,0),t.setMonth(o*3+2),t.setHours(23,59,59,59),o===0||o===3?t.setDate(31):t.setDate(30),[e,t]}function m(){const e=new Date,t=new Date;return e.setMonth(0),e.setDate(1),e.setHours(0,0,0,0),t.setMonth(11),t.setDate(31),t.setHours(23,59,59,59),[e,t]}r.provide(l.SIZE_KEY,u);const w={};return d(M.getExposeProxy(w,c)),(e,t)=>(r.openBlock(),r.createBlock(r.unref(v.ElDatePicker),r.mergeProps({ref_key:"datePickerRef",ref:c,class:"k-date-picker"},e.$attrs,{type:e.type,shortcuts:h.value,size:r.unref(u).elSize}),r.createSlots({_:2},[r.renderList(e.$slots,(s,o)=>({name:o,fn:r.withCtx(y=>[r.renderSlot(e.$slots,o,r.normalizeProps(r.guardReactiveProps(y)))])}))]),1040,["type","shortcuts","size"]))}});exports.default=S;
