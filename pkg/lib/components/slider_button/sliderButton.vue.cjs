"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const q=require("../../node_modules/lodash/lodash.cjs"),C=require("../../hooks/use_deprecated.cjs"),o=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),l=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),_=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),w=["onClick"],x=o.defineComponent({name:"KSliderButton",__name:"sliderButton",props:{items:{},modelValue:{},defaultActive:{},active:{}},emits:["update:modelValue","change"],setup(y,{emit:h}){const n=o.inject("__elementObserver"),a=y;C.useDeprecated({scope:"k-slider-button",from:"active",replacement:"default-active",version:"2.0.0"},o.computed(()=>!!a.active));const u=h,r=l.ref((a.defaultActive||a.active)??a.items[0].name),t=l.ref(),s=l.ref(),b=q.lodashExports.debounce(()=>{i()},10);o.onMounted(()=>{var e;s.value=(e=t==null?void 0:t.value)==null?void 0:e.querySelector(".k-slider-button-pane.is-active"),s.value&&n.observe(s.value,b)}),o.watch(()=>a.modelValue,e=>{e&&(r.value=e,i())},{immediate:!0});async function i(){var m,v,f,k;await o.nextTick();const e=(m=t==null?void 0:t.value)==null?void 0:m.querySelector(".k-slider-button-pane.is-active"),{width:d}=(e==null?void 0:e.getBoundingClientRect())||{width:0},c=(e==null?void 0:e.offsetTop)||0,p=(e==null?void 0:e.offsetLeft)||0;(v=t==null?void 0:t.value)==null||v.style.setProperty("--item-top",`${c}px`),(f=t==null?void 0:t.value)==null||f.style.setProperty("--item-left",`${p}px`),(k=t==null?void 0:t.value)==null||k.style.setProperty("--item-width",`${d}px`)}async function g(e){r.value!==e.name&&(r.value=e.name,await i(),u("update:modelValue",e.name),u("change",e.name))}return o.onBeforeUnmount(()=>{var e;s.value&&((e=n==null?void 0:n.unobserve)==null||e.call(n,s.value))}),(e,d)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"sliderButton",ref:t,class:"k-slider-button"},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(a.items,c=>(o.openBlock(),o.createElementBlock("div",{key:c.name,class:_.normalizeClass([{"is-active":r.value===c.name},"k-slider-button-pane"]),onClick:p=>g(c)},_.toDisplayString(c.label),11,w))),128))],512))}});exports.default=x;
