"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});require("../../node_modules/vue/dist/vue.runtime.esm-bundler.cjs");const p=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const f=require("../../hooks/use_size.cjs"),g=require("../../hooks/use_inherit_slot.cjs"),B=require("../../node_modules/element-plus/es/components/tree-select/index.cjs"),C=require("../../node_modules/lodash-es/debounce.cjs"),e=require("../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.cjs"),u=require("../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.cjs"),s=require("../../node_modules/@vue/runtime-core/node_modules/@vue/shared/dist/shared.esm-bundler.cjs"),b=e.defineComponent({name:"KTreeSelect",__name:"tree_select",props:{name:{},icon:{},size:{},expandIcon:{},collapseIcon:{},debounce:{default:500},className:{},nodeStyle:{},useFolderIcon:{type:Boolean,default:!1}},emits:["input","blur"],setup(S,{expose:y,emit:v}){const o=S,a=f.useSize(o),d=v,i=u.ref(),c=u.ref({value:""}),m=p.genRandomStr(8),q=g.useInheritSlot(["empty","default"]),I=e.computed(()=>r=>{const{node:t,data:n}=r,l=o.useFolderIcon;return n.icon?n.icon:t.isLeaf?o.icon??l?"IconFlowNested":null:t.expanded?o.expandIcon??l?"IconFolderOpen":null:o.collapseIcon??l?"IconFlowNested":null}),z=r=>{const t=()=>{const n=i.value.$el.querySelector(`[name="${o.name??m}"]`);c.value.value=n.value};C.default(t,o.debounce)(),d("input",r)};e.provide(f.SIZE_KEY,a);const _={};return y(p.getExposeProxy(_,i)),(r,t)=>(e.openBlock(),e.createBlock(u.unref(B.ElTreeSelect),e.mergeProps({ref_key:"KTreeSelectRef",ref:i,name:r.name??u.unref(m),class:"k-tree-select",size:u.unref(a).elSize},r.$attrs,{onInput:z,onBlur:t[0]||(t[0]=n=>{c.value.value="",d("blur",n)})}),e.createSlots({default:e.withCtx(n=>[e.renderSlot(r.$slots,"default",s.normalizeProps(e.guardReactiveProps(n)),()=>[e.createElementVNode("span",{style:s.normalizeStyle(typeof o.nodeStyle=="function"?o.nodeStyle(n):o.nodeStyle),class:s.normalizeClass(typeof o.className=="function"?o.className(n):o.className)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(I.value(n)),{class:s.normalizeClass([{"tree-item-icon--noChildren":n.node.isLeaf}])},null,8,["class"])),e.createTextVNode(" "+s.toDisplayString(n.data.label),1)],6)])]),empty:e.withCtx(()=>[e.renderSlot(r.$slots,"empty",{query:c.value},()=>[e.createTextVNode("未找到'"+s.toDisplayString(c.value.value)+"'相关内容",1)])]),_:2},[e.renderList(u.unref(q)(r.$slots),(n,l)=>({name:l,fn:e.withCtx(N=>[e.renderSlot(r.$slots,l,s.normalizeProps(e.guardReactiveProps(N)))])}))]),1040,["name","size"]))}});exports.default=b;
