"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),d=require("../../utils/utils.cjs");require("../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.cjs");require("../../node_modules/sortablejs/modular/sortable.esm.cjs");require("../../node_modules/culori/src/index.cjs");const p=require("../../hooks/use_size.cjs"),N=require("../../hooks/use_inherit_slot.cjs"),g=require("../../node_modules/element-plus/es/components/tree-select/index.cjs"),b=require("../../node_modules/lodash-es/debounce.cjs"),C=e.defineComponent({name:"KTreeSelect",__name:"tree_select",props:{name:{},icon:{},size:{},expandIcon:{},collapseIcon:{},debounce:{default:500},className:{},nodeStyle:{},useFolderIcon:{type:Boolean,default:!1}},emits:["input","blur"],setup(m,{expose:f,emit:S}){const o=m,c=p.useSize(o),a=S,u=e.ref(),l=e.ref({value:""}),i=d.genRandomStr(8),y=N.useInheritSlot(["empty","default"]),v=e.computed(()=>t=>{const{node:r,data:n}=t,s=o.useFolderIcon;return n.icon?n.icon:r.isLeaf?o.icon??s?"IconFlowNested":null:r.expanded?o.expandIcon??s?"IconFolderOpen":null:o.collapseIcon??s?"IconFlowNested":null}),I=t=>{const r=()=>{const n=u.value.$el.querySelector(`[name="${o.name??i}"]`);l.value.value=n.value};b.default(r,o.debounce)(),a("input",t)};e.provide(p.SIZE_KEY,c);const q={};return f(d.getExposeProxy(q,u)),(t,r)=>(e.openBlock(),e.createBlock(e.unref(g.ElTreeSelect),e.mergeProps({ref_key:"KTreeSelectRef",ref:u,name:t.name??e.unref(i),class:"k-tree-select",size:e.unref(c).elSize},t.$attrs,{onInput:I,onBlur:r[0]||(r[0]=n=>{l.value.value="",a("blur",n)})}),e.createSlots({default:e.withCtx(n=>[e.renderSlot(t.$slots,"default",e.normalizeProps(e.guardReactiveProps(n)),()=>[e.createElementVNode("span",{style:e.normalizeStyle(typeof o.nodeStyle=="function"?o.nodeStyle(n):o.nodeStyle),class:e.normalizeClass(typeof o.className=="function"?o.className(n):o.className)},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(v.value(n)),{class:e.normalizeClass([{"tree-item-icon--noChildren":n.node.isLeaf}])},null,8,["class"])),e.createTextVNode(" "+e.toDisplayString(n.data.label),1)],6)])]),empty:e.withCtx(()=>[e.renderSlot(t.$slots,"empty",{query:l.value},()=>[e.createTextVNode("未找到'"+e.toDisplayString(l.value.value)+"'相关内容",1)])]),_:2},[e.renderList(e.unref(y)(t.$slots),(n,s)=>({name:s,fn:e.withCtx(z=>[e.renderSlot(t.$slots,s,e.normalizeProps(e.guardReactiveProps(z)))])}))]),1040,["name","size"]))}});exports.default=C;
